workspace:
  get:
    tags:
      - Dashboard
    summary: Get full workspace data (boards, columns, tasks)
    security:
      - bearerAuth: []
    responses:
      "200":
        description: Workspace data
        content:
          application/json:
            schema:
              type: object
              properties:
                boards:
                  type: array
                  items:
                    $ref: "../schemas/board.yaml"
                columns:
                  type: array
                  items:
                    $ref: "../schemas/column.yaml"
                tasks:
                  type: array
                  items:
                    $ref: "../schemas/task.yaml"

board-names:
  get:
    tags:
      - Dashboard
    summary: Get board names
    security:
      - bearerAuth: []
    responses:
      "200":
        description: Board list
        content:
          application/json:
            schema:
              type: array
              items:
                $ref: "../schemas/board.yaml"

column-names:
  get:
    tags:
      - Dashboard
    summary: Get column names for a board
    security:
      - bearerAuth: []
    parameters:
      - in: path
        name: boardId
        required: true
        schema:
          type: string
    responses:
      "200":
        description: Column list
        content:
          application/json:
            schema:
              type: array
              items:
                $ref: "../schemas/column.yaml"

# ------------------------------- BOARD --------------------------------

create-board:
  post:
    tags:
      - Boards
    summary: Create a new board
    security:
      - bearerAuth: []
    requestBody:
      required: true
      content:
        application/json:
          schema:
            type: object
            required:
              - title
            properties:
              title:
                type: string
                example: "Work Tasks"
              icon:
                type: string
                example: "star"
              background:
                type: string
                example: "gradient-blue"
    responses:
      "201":
        description: Board created
        content:
          application/json:
            schema:
              $ref: "../schemas/board.yaml"

edit-board:
  patch:
    tags:
      - Boards
    summary: Edit board
    security:
      - bearerAuth: []
    parameters:
      - in: path
        name: boardId
        required: true
        schema:
          type: string
    requestBody:
      required: true
      content:
        application/json:
          schema:
            type: object
            properties:
              title:
                type: string
              icon:
                type: string
              background:
                type: string
    responses:
      "200":
        description: Board updated
        content:
          application/json:
            schema:
              $ref: "../schemas/board.yaml"

delete-board:
  delete:
    tags:
      - Boards
    summary: Delete board
    security:
      - bearerAuth: []
    parameters:
      - in: path
        name: boardId
        required: true
        schema:
          type: string
    responses:
      "204":
        description: Board deleted

# ------------------------------- COLUMN --------------------------------

create-column:
  post:
    tags:
      - Columns
    summary: Create column in board
    security:
      - bearerAuth: []
    parameters:
      - in: path
        name: boardId
        required: true
        schema:
          type: string
    requestBody:
      required: true
      content:
        application/json:
          schema:
            type: object
            required:
              - name
              - order
            properties:
              name:
                type: string
                example: "In Progress"
              order:
                type: number
                example: 2
    responses:
      "201":
        description: Column created
        content:
          application/json:
            schema:
              $ref: "../schemas/column.yaml"

edit-column:
  patch:
    tags:
      - Columns
    summary: Edit column
    security:
      - bearerAuth: []
    parameters:
      - in: path
        name: columnId
        required: true
        schema:
          type: string
    requestBody:
      required: true
      content:
        application/json:
          schema:
            type: object
            properties:
              name:
                type: string
              order:
                type: number
    responses:
      "200":
        description: Column updated
        content:
          application/json:
            schema:
              $ref: "../schemas/column.yaml"

delete-column:
  delete:
    tags:
      - Columns
    summary: Delete column
    security:
      - bearerAuth: []
    parameters:
      - in: path
        name: columnId
        required: true
        schema:
          type: string
    responses:
      "204":
        description: Column deleted

# ------------------------------- TASK --------------------------------

create-task:
  post:
    tags:
      - Tasks
    summary: Create task
    security:
      - bearerAuth: []
    parameters:
      - in: path
        name: boardId
        required: true
        schema:
          type: string
      - in: path
        name: columnId
        required: true
        schema:
          type: string
    requestBody:
      required: true
      content:
        application/json:
          schema:
            type: object
            required:
              - title
            properties:
              title:
                type: string
                example: "Fix login bug"
              description:
                type: string
              priority:
                type: string
                enum: [low, medium, high, none]
              deadline:
                type: string
                format: date-time
              order:
                type: number
    responses:
      "201":
        description: Task created
        content:
          application/json:
            schema:
              $ref: "../schemas/task.yaml"

edit-task:
  patch:
    tags:
      - Tasks
    summary: Edit task
    security:
      - bearerAuth: []
    parameters:
      - in: path
        name: taskId
        required: true
        schema:
          type: string
    requestBody:
      required: true
      content:
        application/json:
          schema:
            $ref: "../schemas/task.yaml"
    responses:
      "200":
        description: Task updated
        content:
          application/json:
            schema:
              $ref: "../schemas/task.yaml"

forward-task:
  patch:
    tags:
      - Tasks
    summary: Move task to another column
    security:
      - bearerAuth: []
    parameters:
      - in: path
        name: taskId
        required: true
        schema:
          type: string
    requestBody:
      required: true
      content:
        application/json:
          schema:
            type: object
            required:
              - movedColumnId
            properties:
              movedColumnId:
                type: string
                example: "65a7c2f9e4a8b9c987654321"
    responses:
      "200":
        description: Task moved
        content:
          application/json:
            schema:
              $ref: "../schemas/task.yaml"

delete-task:
  delete:
    tags:
      - Tasks
    summary: Delete task
    security:
      - bearerAuth: []
    parameters:
      - in: path
        name: taskId
        required: true
        schema:
          type: string
    responses:
      "204":
        description: Task deleted
